# requirements-nvidia.txt (For NVIDIA GPU Installation)
# Updated for chatterbox-tts>=0.1.4 (multilingual support)
# PyTorch 2.6.0 is installed from PyPI (includes CUDA support)
#
# IMPORTANT: numpy must be installed FIRST (before chatterbox-tts) because
# pkuseg (a chatterbox-tts dependency) requires numpy at build time.
# The setup.sh script handles this automatically.

# Note: PyTorch 2.6.0 with CUDA is available from PyPI, so we don't need --extra-index-url
# If you need a specific CUDA version, uncomment and adjust the index URL below:
# --extra-index-url https://download.pytorch.org/whl/cu121

# --- Build Dependencies (install first) ---
# numpy must be installed before chatterbox-tts to satisfy pkuseg build requirements
# chatterbox-tts requires numpy>=1.24.0,<1.26.0 (cannot use 1.26.0)
numpy>=1.24.0,<1.26.0  # Required by chatterbox-tts>=0.1.4

# --- PyTorch (Deep Learning Framework) ---
# Pinning PyTorch versions required by chatterbox-tts>=0.1.4
torch==2.6.0
torchvision==0.21.0  # Compatible with torch 2.6.0
torchaudio==2.6.0

# --- Core Application Dependencies ---

# Install chatterbox - version 0.1.4+ required for multilingual support
# Using PyPI version for multilingual support (ChatterboxMultilingualTTS)
# NOTE: numpy must be installed before this (see above)
chatterbox-tts>=0.1.4

# Core Web Framework
fastapi
uvicorn[standard]

# Other ML & Audio Libraries
soundfile  # Requires libsndfile system library
librosa==0.11.0  # Required by chatterbox-tts>=0.1.4 (HF Space uses 0.10.0 but we need 0.11.0 for pip package compatibility)
resampy==0.4.3  # Required by HF Space
safetensors
descript-audio-codec
s3tokenizer  # Required by HF Space implementation
resemble-perth==1.0.1  # Watermarking library used by HF Space
silero-vad==5.1.2  # Voice activity detection (optional but used by HF Space)
conformer==0.3.2  # Required by HF Space
omegaconf==2.3.0  # Configuration management (used by HF Space)
diffusers==0.29.0  # Required by HF Space
transformers==4.46.3  # HF Space uses specific version

# Configuration & Utilities
PyYAML
python-multipart
requests
Jinja2
watchdog
aiofiles
unidecode
inflect
tqdm
hf_transfer                     # Speed up file transfers

# Audio Post-processing
pydub
audiotsm
praat-parselmouth
